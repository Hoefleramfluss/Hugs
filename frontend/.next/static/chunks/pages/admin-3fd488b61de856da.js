(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{6966:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return a(2938)}])},2289:function(e,t,a){"use strict";a.d(t,{CT:function(){return u},Yu:function(){return p},i2:function(){return m},j7:function(){return l},w1:function(){return c}});var r,n=a(4284);let s=e=>{if(e)return e.trim().replace(/\/+$/,"")},i=s("https://hugs-backend-prod-787273457651.europe-west3.run.app"),o=s(n.env.NEXT_PUBLIC_SITE_URL)||s(n.env.VERCEL_URL),d=Number(null!==(r=n.env.NEXT_REVALIDATE_SECONDS)&&void 0!==r?r:60),u=i||"https://hugs-backend-prod-787273457651.europe-west3.run.app",c=1e3;Number.isFinite(d);let l=(o||"https://hugs.garden").replace(/\/+$/,""),p="Hugs Garden supplies premium growshop equipment, nutrients, and expert advice for thriving indoor gardens.",m="Hugs Garden Growshop | Premium Indoor Gardening Supplies"},2938:function(e,t,a){"use strict";a.r(t);var r=a(4246),n=a(7378),s=a(6677),i=a(8874);t.default=()=>{let[e,t]=(0,n.useState)(""),[a,o]=(0,n.useState)(""),[d,u]=(0,n.useState)(""),[c,l]=(0,n.useState)(!1),p=(0,s.useRouter)(),m=async t=>{t.preventDefault(),u(""),l(!0);try{let{token:t,user:r}=await i.ZP.login({email:e,password:a});if("ADMIN"!==r.role){u("Access denied. Admin privileges required.");return}localStorage.setItem("authToken",t),p.push("/admin/dashboard")}catch(e){console.error("Login failed:",e),e.response&&e.response.data&&e.response.data.error?u(e.response.data.error):u("An unexpected error occurred. Please try again.")}finally{l(!1)}};return(0,r.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-sm",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-center mb-6 text-primary",children:"Admin Login"}),(0,r.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,r.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,r.jsx)("input",{id:"password",type:"password",value:a,onChange:e=>o(e.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary"})]}),d&&(0,r.jsx)("p",{className:"text-red-500 text-sm text-center",children:d}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-primary hover:bg-primary-dark text-white font-bold py-2 px-4 rounded-md transition-colors disabled:opacity-50",children:c?"Logging in...":"Log In"})})]})]})})}},8874:function(e,t,a){"use strict";var r=a(7833),n=a(2289);let s=r.Z.create({baseURL:n.CT,timeout:n.w1,headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{{let t=localStorage.getItem("authToken");t&&e.headers&&(e.headers.Authorization="Bearer ".concat(t))}return e});let i=async e=>(await s.post("/api/auth/login",e)).data,o=async e=>(await s.post("/api/auth/register",e)).data,d=async()=>{let e=await s.get("/api/products");return Array.isArray(e.data)?e.data:[]},u=async e=>(await s.get("/api/products/".concat(e))).data,c=async()=>(await s.get("/api/products/pdw")).data,l=async e=>(await s.post("/api/products/pdw",{productId:e})).data,p=async()=>(await s.get("/api/pages")).data,m=async e=>(await s.get("/api/pages/".concat(e))).data,g=async(e,t)=>(await s.put("/api/pages/".concat(e),{sections:t})).data;t.ZP={login:i,register:o,getProducts:d,getProductBySlug:u,getProductOfWeek:c,setProductOfWeek:l,getPages:p,getPageBySlug:m,updatePageSections:g}},6677:function(e,t,a){e.exports=a(2293)}},function(e){e.O(0,[833,888,774,179],function(){return e(e.s=6966)}),_N_E=e.O()}]);