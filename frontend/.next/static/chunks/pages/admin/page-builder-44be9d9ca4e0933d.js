(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{8548:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/page-builder",function(){return t(3096)}])},5156:function(e,a,t){"use strict";var r=t(4246),s=t(9894),n=t.n(s),i=t(6677);let d=[{href:"/admin/dashboard",label:"Dashboard"},{href:"/admin/products",label:"Products"},{href:"/admin/page-builder",label:"Website Builder"}];a.Z=e=>{let{title:a,children:t}=e,s=(0,i.useRouter)();return(0,r.jsxs)("div",{className:"min-h-screen bg-background text-on-surface",children:[(0,r.jsx)("header",{className:"bg-surface shadow-md",children:(0,r.jsxs)("div",{className:"mx-auto max-w-6xl px-6 py-4 flex items-center justify-between",children:[(0,r.jsx)(n(),{href:"/admin/dashboard",className:"text-2xl font-bold text-primary",children:"HUGS Admin"}),(0,r.jsx)("nav",{className:"flex items-center gap-6",children:d.map(e=>{let a=s.pathname.startsWith(e.href);return(0,r.jsx)(n(),{href:e.href,className:"font-medium transition-colors ".concat(a?"text-primary":"text-on-surface-light hover:text-primary"),children:e.label},e.href)})})]})}),(0,r.jsxs)("main",{className:"mx-auto max-w-6xl px-6 py-10",children:[a&&(0,r.jsx)("h1",{className:"text-3xl font-bold mb-8 text-primary",children:a}),t]})]})}},2289:function(e,a,t){"use strict";t.d(a,{CT:function(){return l},Yu:function(){return p},i2:function(){return h},j7:function(){return o},w1:function(){return u}});var r,s=t(4284);let n=e=>{if(e)return e.trim().replace(/\/+$/,"")},i=n("https://hugs-backend-prod-787273457651.europe-west3.run.app"),d=n(s.env.NEXT_PUBLIC_SITE_URL)||n(s.env.VERCEL_URL),c=Number(null!==(r=s.env.NEXT_REVALIDATE_SECONDS)&&void 0!==r?r:60),l=i||"https://hugs-backend-prod-787273457651.europe-west3.run.app",u=1e3;Number.isFinite(c);let o=(d||"https://hugs.garden").replace(/\/+$/,""),p="Hugs Garden supplies premium growshop equipment, nutrients, and expert advice for thriving indoor gardens.",h="Hugs Garden Growshop | Premium Indoor Gardening Supplies"},3096:function(e,a,t){"use strict";t.r(a);var r=t(4246),s=t(9894),n=t.n(s),i=t(7378),d=t(5156),c=t(8874);a.default=()=>{let[e,a]=(0,i.useState)([]),[t,s]=(0,i.useState)(!0),[l,u]=(0,i.useState)(null);return(0,i.useEffect)(()=>{(async()=>{try{s(!0);let e=await c.ZP.getPages();a(e)}catch(e){console.error("Failed to fetch pages:",e),u("Could not load pages.")}finally{s(!1)}})()},[]),(0,r.jsxs)(d.Z,{title:"Website Builder",children:[t&&(0,r.jsx)("p",{children:"Loading available pages..."}),l&&(0,r.jsx)("p",{className:"text-red-500",children:l}),!t&&!l&&(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[e.map(e=>(0,r.jsxs)("div",{className:"bg-surface rounded-lg p-6 shadow",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-primary mb-2",children:e.title}),(0,r.jsxs)("p",{className:"text-sm text-on-surface-light mb-4",children:["Slug: ",e.slug]}),(0,r.jsx)(n(),{href:"/admin/page-builder/".concat(e.slug),className:"inline-block bg-primary text-white font-semibold px-4 py-2 rounded hover:bg-primary-dark",children:"Open Builder"})]},e.id)),0===e.length&&(0,r.jsx)("div",{className:"bg-surface rounded-lg p-6 shadow text-center",children:(0,r.jsx)("p",{children:"No pages found. Seed data only includes the home page."})})]})]})}},8874:function(e,a,t){"use strict";var r=t(7833),s=t(2289);let n=r.Z.create({baseURL:s.CT,timeout:s.w1,headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{{let a=localStorage.getItem("authToken");a&&e.headers&&(e.headers.Authorization="Bearer ".concat(a))}return e});let i=async e=>(await n.post("/api/auth/login",e)).data,d=async e=>(await n.post("/api/auth/register",e)).data,c=async()=>{let e=await n.get("/api/products");return Array.isArray(e.data)?e.data:[]},l=async e=>(await n.get("/api/products/".concat(e))).data,u=async()=>(await n.get("/api/products/pdw")).data,o=async e=>(await n.post("/api/products/pdw",{productId:e})).data,p=async()=>(await n.get("/api/pages")).data,h=async e=>(await n.get("/api/pages/".concat(e))).data,m=async(e,a)=>(await n.put("/api/pages/".concat(e),{sections:a})).data;a.ZP={login:i,register:d,getProducts:c,getProductBySlug:l,getProductOfWeek:u,setProductOfWeek:o,getPages:p,getPageBySlug:h,updatePageSections:m}},6677:function(e,a,t){e.exports=t(2293)}},function(e){e.O(0,[833,894,888,774,179],function(){return e(e.s=8548)}),_N_E=e.O()}]);