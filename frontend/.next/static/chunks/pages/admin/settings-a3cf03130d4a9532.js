(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[577],{7909:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/settings",function(){return a(2972)}])},2972:function(e,t,a){"use strict";a.r(t);var s=a(4246),n=a(7378),i=a(7833);t.default=()=>{let[e,t]=(0,n.useState)({siteName:"",contactEmail:"",maintenanceMode:!1}),[a,c]=(0,n.useState)(!0),[r,l]=(0,n.useState)(""),[m,o]=(0,n.useState)(""),d=i.Z.create({baseURL:""});(0,n.useEffect)(()=>{let e=localStorage.getItem("authToken");d.get("/api/settings",{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>t(e.data)).catch(e=>l("Failed to load settings.")).finally(()=>c(!1))},[]);let u=e=>{let{name:a,value:s,type:n,checked:i}=e.target;t(e=>({...e,[a]:"checkbox"===n?i:s}))},h=async t=>{t.preventDefault(),o(""),l("");try{let t=localStorage.getItem("authToken");await d.put("/api/settings",e,{headers:{Authorization:"Bearer ".concat(t)}}),o("Settings saved successfully!")}catch(e){l("Failed to save settings.")}};return a?(0,s.jsx)("div",{className:"p-8",children:"Loading..."}):(0,s.jsxs)("div",{className:"min-h-screen bg-background text-on-surface p-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-8 text-primary",children:"Site Settings"}),(0,s.jsx)("div",{className:"max-w-2xl mx-auto bg-surface p-6 rounded-lg shadow-md",children:(0,s.jsxs)("form",{onSubmit:h,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"siteName",className:"block text-sm font-medium",children:"Site Name"}),(0,s.jsx)("input",{type:"text",name:"siteName",id:"siteName",value:e.siteName,onChange:u,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"contactEmail",className:"block text-sm font-medium",children:"Contact Email"}),(0,s.jsx)("input",{type:"email",name:"contactEmail",id:"contactEmail",value:e.contactEmail,onChange:u,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",name:"maintenanceMode",id:"maintenanceMode",checked:e.maintenanceMode,onChange:u,className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"}),(0,s.jsx)("label",{htmlFor:"maintenanceMode",className:"ml-2 block text-sm",children:"Enable Maintenance Mode"})]}),r&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:r}),m&&(0,s.jsx)("p",{className:"text-sm text-green-500",children:m}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",className:"w-full bg-primary text-white py-2 px-4 rounded-md hover:bg-primary-dark",children:"Save Settings"})})]})})]})}}},function(e){e.O(0,[833,888,774,179],function(){return e(e.s=7909)}),_N_E=e.O()}]);