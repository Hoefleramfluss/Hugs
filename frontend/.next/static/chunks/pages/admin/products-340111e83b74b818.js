(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[209],{3388:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/products",function(){return a(7002)}])},5156:function(e,t,a){"use strict";var r=a(4246),s=a(9894),n=a.n(s),i=a(6677);let c=[{href:"/admin/dashboard",label:"Dashboard"},{href:"/admin/products",label:"Products"},{href:"/admin/page-builder",label:"Website Builder"}];t.Z=e=>{let{title:t,children:a}=e,s=(0,i.useRouter)();return(0,r.jsxs)("div",{className:"min-h-screen bg-background text-on-surface",children:[(0,r.jsx)("header",{className:"bg-surface shadow-md",children:(0,r.jsxs)("div",{className:"mx-auto max-w-6xl px-6 py-4 flex items-center justify-between",children:[(0,r.jsx)(n(),{href:"/admin/dashboard",className:"text-2xl font-bold text-primary",children:"HUGS Admin"}),(0,r.jsx)("nav",{className:"flex items-center gap-6",children:c.map(e=>{let t=s.pathname.startsWith(e.href);return(0,r.jsx)(n(),{href:e.href,className:"font-medium transition-colors ".concat(t?"text-primary":"text-on-surface-light hover:text-primary"),children:e.label},e.href)})})]})}),(0,r.jsxs)("main",{className:"mx-auto max-w-6xl px-6 py-10",children:[t&&(0,r.jsx)("h1",{className:"text-3xl font-bold mb-8 text-primary",children:t}),a]})]})}},2289:function(e,t,a){"use strict";a.d(t,{CT:function(){return l},Yu:function(){return p},i2:function(){return h},j7:function(){return u},w1:function(){return o}});var r,s=a(7061);let n=e=>{if(e)return e.trim().replace(/\/+$/,"")},i=n("https://hugs-backend-prod-787273457651.europe-west3.run.app"),c=n(s.env.NEXT_PUBLIC_SITE_URL)||n(s.env.VERCEL_URL),d=Number(null!==(r=s.env.NEXT_REVALIDATE_SECONDS)&&void 0!==r?r:60),l=i||"https://hugs-backend-prod-787273457651.europe-west3.run.app",o=1e3;Number.isFinite(d);let u=(c||"https://hugs.garden").replace(/\/+$/,""),p="Hugs Garden supplies premium growshop equipment, nutrients, and expert advice for thriving indoor gardens.",h="Hugs Garden Growshop | Premium Indoor Gardening Supplies"},7002:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSP:function(){return d}});var r=a(4246),s=a(8874),n=a(7378),i=a(6677),c=a(5156),d=!0;t.default=e=>{let{initialProducts:t}=e,[a,d]=(0,n.useState)(t),[l,o]=(0,n.useState)(null),u=(0,i.useRouter)(),p=async e=>{o(e);try{await s.ZP.setProductOfWeek(e),u.replace(u.asPath)}catch(e){console.error("Failed to set product of the week:",e),alert("Error: Could not set product of the week.")}finally{o(null)}};return(0,r.jsx)(c.Z,{title:"Manage Products",children:(0,r.jsx)("div",{className:"bg-surface rounded-lg shadow-lg overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-left",children:[(0,r.jsx)("thead",{className:"border-b border-surface-light",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"p-4",children:"Title"}),(0,r.jsx)("th",{className:"p-4",children:"SKU (Default)"}),(0,r.jsx)("th",{className:"p-4",children:"Price"}),(0,r.jsx)("th",{className:"p-4",children:"Product of Week"}),(0,r.jsx)("th",{className:"p-4",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:a.map(e=>{var t;return(0,r.jsxs)("tr",{className:"border-b border-surface-light last:border-b-0 hover:bg-surface-light",children:[(0,r.jsx)("td",{className:"p-4",children:e.title}),(0,r.jsx)("td",{className:"p-4",children:(null===(t=e.variants[0])||void 0===t?void 0:t.sku)||"N/A"}),(0,r.jsxs)("td",{className:"p-4",children:["â‚¬",e.price.toFixed(2)]}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsx)("button",{onClick:()=>p(e.id),disabled:e.productOfWeek||!!l,className:"py-1 px-3 rounded text-sm font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed ".concat(e.productOfWeek?"bg-secondary text-background cursor-default":"bg-primary/20 text-primary hover:bg-primary/40"),children:l===e.id?"Saving...":e.productOfWeek?"Active":"Set as PDW"})}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsx)("button",{className:"text-blue-400 hover:text-blue-300",children:"Edit"})})]},e.id)})})]})})})}},8874:function(e,t,a){"use strict";var r=a(7833),s=a(2289);let n=r.Z.create({baseURL:s.CT,timeout:s.w1,headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{{let t=localStorage.getItem("authToken");t&&e.headers&&(e.headers.Authorization="Bearer ".concat(t))}return e});let i=async e=>(await n.post("/api/auth/login",e)).data,c=async e=>(await n.post("/api/auth/register",e)).data,d=async()=>{let e=await n.get("/api/products");return Array.isArray(e.data)?e.data:[]},l=async e=>(await n.get("/api/products/".concat(e))).data,o=async()=>(await n.get("/api/products/pdw")).data,u=async e=>(await n.post("/api/products/pdw",{productId:e})).data,p=async()=>(await n.get("/api/pages")).data,h=async e=>(await n.get("/api/pages/".concat(e))).data,m=async(e,t)=>(await n.put("/api/pages/".concat(e),{sections:t})).data;t.ZP={login:i,register:c,getProducts:d,getProductBySlug:l,getProductOfWeek:o,setProductOfWeek:u,getPages:p,getPageBySlug:h,updatePageSections:m}},6677:function(e,t,a){e.exports=a(2293)}},function(e){e.O(0,[833,894,888,774,179],function(){return e(e.s=3388)}),_N_E=e.O()}]);