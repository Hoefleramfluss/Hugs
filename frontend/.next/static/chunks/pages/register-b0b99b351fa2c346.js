(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{8187:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return a(9636)}])},2289:function(e,t,a){"use strict";a.d(t,{CT:function(){return u},Yu:function(){return p},i2:function(){return m},j7:function(){return l},w1:function(){return c}});var r,s=a(7061);let n=e=>{if(e)return e.trim().replace(/\/+$/,"")},i=n("https://hugs-backend-prod-787273457651.europe-west3.run.app"),o=n(s.env.NEXT_PUBLIC_SITE_URL)||n(s.env.VERCEL_URL),d=Number(null!==(r=s.env.NEXT_REVALIDATE_SECONDS)&&void 0!==r?r:60),u=i||"https://hugs-backend-prod-787273457651.europe-west3.run.app",c=1e3;Number.isFinite(d);let l=(o||"https://hugs.garden").replace(/\/+$/,""),p="Hugs Garden supplies premium growshop equipment, nutrients, and expert advice for thriving indoor gardens.",m="Hugs Garden Growshop | Premium Indoor Gardening Supplies"},9636:function(e,t,a){"use strict";a.r(t);var r=a(4246),s=a(7378),n=a(8874);t.default=()=>{let[e,t]=(0,s.useState)(""),[a,i]=(0,s.useState)(""),[o,d]=(0,s.useState)(""),[u,c]=(0,s.useState)(""),[l,p]=(0,s.useState)(!1),m=async t=>{t.preventDefault(),c(""),p(!0);try{let{token:t}=await n.ZP.register({name:e,email:a,password:o});localStorage.setItem("authToken",t),window.location.href="/"}catch(e){console.error("Registration failed:",e),e.response&&e.response.data&&e.response.data.error?c(e.response.data.error):c("An unexpected error occurred. Please try again.")}finally{p(!1)}};return(0,r.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-sm",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-center mb-6 text-primary",children:"Create Account"}),(0,r.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,r.jsx)("input",{id:"name",type:"text",value:e,onChange:e=>t(e.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,r.jsx)("input",{id:"email",type:"email",value:a,onChange:e=>i(e.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,r.jsx)("input",{id:"password",type:"password",value:o,onChange:e=>d(e.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary"})]}),u&&(0,r.jsx)("p",{className:"text-red-500 text-sm text-center",children:u}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",disabled:l,className:"w-full bg-primary hover:bg-primary-dark text-white font-bold py-2 px-4 rounded-md transition-colors disabled:opacity-50",children:l?"Creating Account...":"Sign Up"})})]}),(0,r.jsxs)("p",{className:"text-center text-sm text-gray-600 mt-4",children:["Already have an account?"," ",(0,r.jsx)("a",{href:"/admin",className:"font-medium text-primary hover:underline",children:"Log In"})]})]})})}},8874:function(e,t,a){"use strict";var r=a(7833),s=a(2289);let n=r.Z.create({baseURL:s.CT,timeout:s.w1,headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{{let t=localStorage.getItem("authToken");t&&e.headers&&(e.headers.Authorization="Bearer ".concat(t))}return e});let i=async e=>(await n.post("/api/auth/login",e)).data,o=async e=>(await n.post("/api/auth/register",e)).data,d=async()=>{let e=await n.get("/api/products");return Array.isArray(e.data)?e.data:[]},u=async e=>(await n.get("/api/products/".concat(e))).data,c=async()=>(await n.get("/api/products/pdw")).data,l=async e=>(await n.post("/api/products/pdw",{productId:e})).data,p=async()=>(await n.get("/api/pages")).data,m=async e=>(await n.get("/api/pages/".concat(e))).data,h=async(e,t)=>(await n.put("/api/pages/".concat(e),{sections:t})).data;t.ZP={login:i,register:o,getProducts:d,getProductBySlug:u,getProductOfWeek:c,setProductOfWeek:l,getPages:p,getPageBySlug:m,updatePageSections:h}}},function(e){e.O(0,[833,888,774,179],function(){return e(e.s=8187)}),_N_E=e.O()}]);