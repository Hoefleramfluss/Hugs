(()=>{var e={};e.id=209,e.ids=[209,888,660],e.modules={7229:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>x,default:()=>u,getServerSideProps:()=>m,getStaticPaths:()=>h,getStaticProps:()=>p,reportWebVitals:()=>g,routeModule:()=>S,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>v,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>f});var s=r(9847),i=r(2603),o=r(8847),n=r(8300),c=r(9540),l=r(7002),d=e([l]);l=(d.then?(await d)():d)[0];let u=(0,o.l)(l,"default"),p=(0,o.l)(l,"getStaticProps"),h=(0,o.l)(l,"getStaticPaths"),m=(0,o.l)(l,"getServerSideProps"),x=(0,o.l)(l,"config"),g=(0,o.l)(l,"reportWebVitals"),f=(0,o.l)(l,"unstable_getStaticProps"),b=(0,o.l)(l,"unstable_getStaticPaths"),y=(0,o.l)(l,"unstable_getStaticParams"),j=(0,o.l)(l,"unstable_getServerProps"),v=(0,o.l)(l,"unstable_getServerSideProps"),S=new s.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/admin/products",pathname:"/admin/products",bundlePath:"",filename:""},components:{App:c.default,Document:n.default},userland:l});a()}catch(e){a(e)}})},5156:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var a=r(997),s=r(9894),i=r.n(s),o=r(6677);let n=[{href:"/admin/dashboard",label:"Dashboard"},{href:"/admin/products",label:"Products"},{href:"/admin/page-builder",label:"Website Builder"}],c=({title:e,children:t})=>{let r=(0,o.useRouter)();return(0,a.jsxs)("div",{className:"min-h-screen bg-background text-on-surface",children:[a.jsx("header",{className:"bg-surface shadow-md",children:(0,a.jsxs)("div",{className:"mx-auto max-w-6xl px-6 py-4 flex items-center justify-between",children:[a.jsx(i(),{href:"/admin/dashboard",className:"text-2xl font-bold text-primary",children:"HUGS Admin"}),a.jsx("nav",{className:"flex items-center gap-6",children:n.map(e=>{let t=r.pathname.startsWith(e.href);return a.jsx(i(),{href:e.href,className:`font-medium transition-colors ${t?"text-primary":"text-on-surface-light hover:text-primary"}`,children:e.label},e.href)})})]})}),(0,a.jsxs)("main",{className:"mx-auto max-w-6xl px-6 py-10",children:[e&&a.jsx("h1",{className:"text-3xl font-bold mb-8 text-primary",children:e}),t]})]})}},2289:(e,t,r)=>{"use strict";r.d(t,{CT:()=>n,Yu:()=>u,aG:()=>l,i2:()=>p,j7:()=>d,w1:()=>c});let a=e=>{if(e)return e.trim().replace(/\/+$/,"")},s=a("https://hugs-backend-prod-787273457651.europe-west3.run.app"),i=a(process.env.NEXT_PUBLIC_SITE_URL)||a(process.env.VERCEL_URL),o=Number(process.env.NEXT_REVALIDATE_SECONDS??60),n=s||"https://hugs-backend-prod-787273457651.europe-west3.run.app",c=1e3,l=Number.isFinite(o)&&o>0?o:60,d=(i||"https://hugs.garden").replace(/\/+$/,""),u="Hugs Garden supplies premium growshop equipment, nutrients, and expert advice for thriving indoor gardens.",p="Hugs Garden Growshop | Premium Indoor Gardening Supplies"},505:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n,j:()=>o});var a=r(997),s=r(6689);let i=(0,s.createContext)(void 0),o=()=>{let e=(0,s.useContext)(i);if(!e)throw Error("useCart must be used within a CartProvider");return e},n=({children:e})=>{let[t,r]=(0,s.useState)([]);(0,s.useEffect)(()=>{try{let e=localStorage.getItem("shoppingCart");e&&r(JSON.parse(e))}catch(e){console.error("Failed to parse cart from localStorage",e),localStorage.removeItem("shoppingCart")}},[]),(0,s.useEffect)(()=>{t.length>0?localStorage.setItem("shoppingCart",JSON.stringify(t)):localStorage.removeItem("shoppingCart")},[t]);let o=e=>{r(t=>t.filter(t=>t.id!==e))};return a.jsx(i.Provider,{value:{cart:t,addToCart:e=>{r(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+e.quantity}:t):[...t,e])},removeFromCart:o,updateQuantity:(e,t)=>{t<=0?o(e):r(r=>r.map(r=>r.id===e?{...r,quantity:t}:r))},clearCart:()=>{r([])}},children:e})}},9540:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r(997);r(5937);var s=r(505);let i=function({Component:e,pageProps:t}){return a.jsx(s.Z,{children:a.jsx(e,{...t})})}},8300:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(997),s=r(3590),i=r(2289);function o(){return(0,a.jsxs)(s.Html,{lang:"en",children:[(0,a.jsxs)(s.Head,{children:[a.jsx("meta",{name:"description",content:i.Yu}),a.jsx("meta",{property:"og:title",content:i.i2}),a.jsx("meta",{property:"og:description",content:i.Yu}),a.jsx("meta",{property:"og:type",content:"website"}),a.jsx("meta",{property:"og:url",content:i.j7}),a.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),a.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),a.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:""}),a.jsx("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"})]}),(0,a.jsxs)("body",{className:"bg-background text-on-surface",children:[a.jsx(s.Main,{}),a.jsx(s.NextScript,{})]})]})}},7002:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>u,getServerSideProps:()=>d});var s=r(997),i=r(8874),o=r(6689),n=r(6677),c=r(5156),l=e([i]);i=(l.then?(await l)():l)[0];let d=async()=>{try{return{props:{initialProducts:await i.ZP.getProducts()}}}catch(e){return console.error("Failed to fetch products for admin page:",e),{props:{initialProducts:[]}}}},u=({initialProducts:e})=>{let[t,r]=(0,o.useState)(e),[a,l]=(0,o.useState)(null),d=(0,n.useRouter)(),u=async e=>{l(e);try{await i.ZP.setProductOfWeek(e),d.replace(d.asPath)}catch(e){console.error("Failed to set product of the week:",e),alert("Error: Could not set product of the week.")}finally{l(null)}};return s.jsx(c.Z,{title:"Manage Products",children:s.jsx("div",{className:"bg-surface rounded-lg shadow-lg overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"border-b border-surface-light",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{className:"p-4",children:"Title"}),s.jsx("th",{className:"p-4",children:"SKU (Default)"}),s.jsx("th",{className:"p-4",children:"Price"}),s.jsx("th",{className:"p-4",children:"Product of Week"}),s.jsx("th",{className:"p-4",children:"Actions"})]})}),s.jsx("tbody",{children:t.map(e=>(0,s.jsxs)("tr",{className:"border-b border-surface-light last:border-b-0 hover:bg-surface-light",children:[s.jsx("td",{className:"p-4",children:e.title}),s.jsx("td",{className:"p-4",children:e.variants[0]?.sku||"N/A"}),(0,s.jsxs)("td",{className:"p-4",children:["â‚¬",e.price.toFixed(2)]}),s.jsx("td",{className:"p-4",children:s.jsx("button",{onClick:()=>u(e.id),disabled:e.productOfWeek||!!a,className:`py-1 px-3 rounded text-sm font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${e.productOfWeek?"bg-secondary text-background cursor-default":"bg-primary/20 text-primary hover:bg-primary/40"}`,children:a===e.id?"Saving...":e.productOfWeek?"Active":"Set as PDW"})}),s.jsx("td",{className:"p-4",children:s.jsx("button",{className:"text-blue-400 hover:text-blue-300",children:"Edit"})})]},e.id))})]})})})};a()}catch(e){a(e)}})},8874:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{ZP:()=>f});var s=r(9648),i=r(2289),o=e([s]);let n=(s=(o.then?(await o)():o)[0]).default.create({baseURL:i.CT,timeout:i.w1,headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>e);let c=async e=>(await n.post("/api/auth/login",e)).data,l=async e=>(await n.post("/api/auth/register",e)).data,d=async()=>{let e=await n.get("/api/products");return Array.isArray(e.data)?e.data:[]},u=async e=>(await n.get(`/api/products/${e}`)).data,p=async()=>(await n.get("/api/products/pdw")).data,h=async e=>(await n.post("/api/products/pdw",{productId:e})).data,m=async()=>(await n.get("/api/pages")).data,x=async e=>(await n.get(`/api/pages/${e}`)).data,g=async(e,t)=>(await n.put(`/api/pages/${e}`,{sections:t})).data,f={login:c,register:l,getProducts:d,getProductBySlug:u,getProductOfWeek:p,setProductOfWeek:h,getPages:m,getPageBySlug:x,updatePageSections:g};a()}catch(e){a(e)}})},5937:()=>{},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},9648:e=>{"use strict";e.exports=import("axios")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[590,716,894,677],()=>r(7229));module.exports=a})();